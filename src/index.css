@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    box-sizing: border-box;
  }

  body {
    @apply bg-dark-primary text-white font-display antialiased;
    font-feature-settings: "cv11", "ss01";
    font-variation-settings: "opsz" 32;
    margin: 0;
    min-height: 100vh;
  }

  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .glass-card {
    @apply bg-dark-secondary/80 backdrop-blur-md border border-gray-800/50 rounded-xl;
  }

  .neon-border {
    @apply border border-white/20 shadow-lg shadow-white/10;
  }

  .neon-text {
    @apply text-white;
  }

  .workout-button {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-xl bg-white text-dark-primary font-medium transition-all duration-300 hover:scale-105 hover:bg-gray-200 active:scale-95;
  }

  .minimal-input {
    @apply bg-dark-tertiary/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white/50 transition-all duration-200;
  }

  .workout-card {
    @apply glass-card p-6 hover:border-white/50 transition-all duration-300 hover:shadow-white/20;
  }

  .progress-ring {
    @apply w-32 h-32 rounded-full border-4 border-dark-tertiary relative;
  }

  .progress-ring-fill {
    @apply absolute inset-0 rounded-full border-4 border-white border-t-transparent border-r-transparent border-b-transparent animate-spin;
  }
}

:root {
  --glow-intensity: 0.5;
}

.glow-effect {
  box-shadow: 0 0 calc(20px * var(--glow-intensity)) rgba(255, 255, 255, calc(0.3 * var(--glow-intensity)));
}

.neon-glow:hover {
  --glow-intensity: 1;
}

/* Mobile-First Styles */
@layer base {
  /* Safe area insets for notched phones */
  html {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Prevent zoom on input focus (iOS) */
  input, select, textarea {
    font-size: 16px !important;
  }

  /* Touch-friendly defaults */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Disable text selection on UI elements */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  /* Smooth scrolling with momentum */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
  }

  /* Hide scrollbars on mobile but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  /* Mobile-optimized modal */
  .mobile-modal {
    @apply fixed inset-0 z-50 flex items-end sm:items-center justify-center;
    padding-bottom: env(safe-area-inset-bottom);
  }

  .mobile-modal-content {
    @apply w-full sm:max-w-md bg-dark-secondary rounded-t-2xl sm:rounded-2xl max-h-[90vh] overflow-y-auto;
  }

  /* Bottom navigation for mobile */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-dark-secondary/95 backdrop-blur-md border-t border-gray-800/50;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Touch-friendly tap area */
  .touch-target {
    @apply relative;
  }
  .touch-target::before {
    content: '';
    @apply absolute -inset-2;
  }

  /* Pull to refresh indicator */
  .pull-indicator {
    @apply flex items-center justify-center h-12 text-gray-400;
  }

  /* Swipe gesture hint */
  .swipe-hint {
    @apply w-10 h-1 bg-gray-600 rounded-full mx-auto mt-2 mb-4;
  }
}

/* PWA Install Prompt */
.pwa-install-prompt {
  @apply fixed bottom-4 left-4 right-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-4 shadow-lg;
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
}

/* Responsive typography */
@media (max-width: 640px) {
  h1 {
    @apply text-xl;
  }
  h2 {
    @apply text-lg;
  }
  h3 {
    @apply text-base;
  }
}

/* Improve touch feedback */
@media (hover: none) and (pointer: coarse) {
  .workout-button:active {
    @apply scale-95 opacity-90;
  }
  
  .workout-card:active {
    @apply scale-[0.98] opacity-90;
  }
}

/* Landscape mode adjustments */
@media (orientation: landscape) and (max-height: 500px) {
  .modal-content {
    @apply max-h-[80vh];
  }
}